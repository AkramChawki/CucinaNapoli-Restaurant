import{r as a,i as k}from"./app-a9b64793.js";import{l as j,o as R,D as H,y as B,X as K,p as de,R as fe,c as me,s as ve,u as ge}from"./use-flags-4a57ff95.js";import{e as Q,I as J,b as be,M as Z,c as he,p as Re,o as N,O as Y,a as I,N as q,r as z,d as Ee}from"./description-10e1d8b3.js";function ye({container:e,accept:r,walk:t,enabled:n=!0}){let l=a.useRef(r),i=a.useRef(t);a.useEffect(()=>{l.current=r,i.current=t},[r,t]),j(()=>{if(!e||!n)return;let u=Q(e);if(!u)return;let c=l.current,s=i.current,g=Object.assign(w=>c(w),{acceptNode:c}),E=u.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,g,!1);for(;E.nextNode();)s(E.currentNode)},[e,n,l,i])}function ee(e={},r=null,t=[]){for(let[n,l]of Object.entries(e))te(t,re(r,n),l);return t}function re(e,r){return e?e+"["+r+"]":r}function te(e,r,t){if(Array.isArray(t))for(let[n,l]of t.entries())te(e,re(r,n.toString()),l);else t instanceof Date?e.push([r,t.toISOString()]):typeof t=="boolean"?e.push([r,t?"1":"0"]):typeof t=="string"?e.push([r,t]):typeof t=="number"?e.push([r,`${t}`]):t==null?e.push([r,""]):ee(t,r,e)}function ke(e){var r;let t=(r=e==null?void 0:e.form)!=null?r:e.closest("form");if(t){for(let n of t.elements)if(n.tagName==="INPUT"&&n.type==="submit"||n.tagName==="BUTTON"&&n.type==="submit"||n.nodeName==="INPUT"&&n.type==="image"){n.click();return}}}function $e(e,r,t){let[n,l]=a.useState(t),i=e!==void 0,u=a.useRef(i),c=a.useRef(!1),s=a.useRef(!1);return i&&!u.current&&!c.current?(c.current=!0,u.current=i,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!i&&u.current&&!s.current&&(s.current=!0,u.current=i,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[i?e:n,R(g=>(i||l(g),r==null?void 0:r(g)))]}let ne=a.createContext(null);function oe(){let e=a.useContext(ne);if(e===null){let r=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(r,oe),r}return e}function ae(){let[e,r]=a.useState([]);return[e.length>0?e.join(" "):void 0,a.useMemo(()=>function(t){let n=R(i=>(r(u=>[...u,i]),()=>r(u=>{let c=u.slice(),s=c.indexOf(i);return s!==-1&&c.splice(s,1),c}))),l=a.useMemo(()=>({register:n,slot:t.slot,name:t.name,props:t.props}),[n,t.slot,t.name,t.props]);return k.createElement(ne.Provider,{value:l},t.children)},[r])]}let Te="label";function Oe(e,r){let t=J(),{id:n=`headlessui-label-${t}`,passive:l=!1,...i}=e,u=oe(),c=B(r);j(()=>u.register(n),[n,u.register]);let s={ref:c,...u.props,id:n};return l&&("onClick"in s&&(delete s.htmlFor,delete s.onClick),"onClick"in i&&delete i.onClick),K({ourProps:s,theirProps:i,slot:u.slot||{},defaultTag:Te,name:u.name||"Label"})}let Ce=H(Oe),Ne=Object.assign(Ce,{});var we=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(we||{});let Pe={[0](e,r){let t=[...e.options,{id:r.id,element:r.element,propsRef:r.propsRef}];return{...e,options:Ee(t,n=>n.element.current)}},[1](e,r){let t=e.options.slice(),n=e.options.findIndex(l=>l.id===r.id);return n===-1?e:(t.splice(n,1),{...e,options:t})}},V=a.createContext(null);V.displayName="RadioGroupDataContext";function ie(e){let r=a.useContext(V);if(r===null){let t=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,ie),t}return r}let X=a.createContext(null);X.displayName="RadioGroupActionsContext";function le(e){let r=a.useContext(X);if(r===null){let t=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,le),t}return r}function Se(e,r){return ge(r.type,Pe,e,r)}let xe="div";function Ae(e,r){let t=J(),{id:n=`headlessui-radiogroup-${t}`,value:l,defaultValue:i,form:u,name:c,onChange:s,by:g=(o,f)=>o===f,disabled:E=!1,...w}=e,$=R(typeof g=="string"?(o,f)=>{let d=g;return(o==null?void 0:o[d])===(f==null?void 0:f[d])}:g),[P,S]=a.useReducer(Se,{options:[]}),m=P.options,[M,U]=ae(),[T,x]=Z(),A=a.useRef(null),_=B(A,r),[v,G]=$e(l,s,i),b=a.useMemo(()=>m.find(o=>!o.propsRef.current.disabled),[m]),O=a.useMemo(()=>m.some(o=>$(o.propsRef.current.value,v)),[m,v]),h=R(o=>{var f;if(E||$(o,v))return!1;let d=(f=m.find(C=>$(C.propsRef.current.value,o)))==null?void 0:f.propsRef.current;return d!=null&&d.disabled?!1:(G==null||G(o),!0)});ye({container:A.current,accept(o){return o.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:o.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(o){o.setAttribute("role","none")}});let W=R(o=>{let f=A.current;if(!f)return;let d=Q(f),C=m.filter(p=>p.propsRef.current.disabled===!1).map(p=>p.element.current);switch(o.key){case N.Enter:ke(o.currentTarget);break;case N.ArrowLeft:case N.ArrowUp:if(o.preventDefault(),o.stopPropagation(),Y(C,I.Previous|I.WrapAround)===q.Success){let p=m.find(F=>F.element.current===(d==null?void 0:d.activeElement));p&&h(p.propsRef.current.value)}break;case N.ArrowRight:case N.ArrowDown:if(o.preventDefault(),o.stopPropagation(),Y(C,I.Next|I.WrapAround)===q.Success){let p=m.find(F=>F.element.current===(d==null?void 0:d.activeElement));p&&h(p.propsRef.current.value)}break;case N.Space:{o.preventDefault(),o.stopPropagation();let p=m.find(F=>F.element.current===(d==null?void 0:d.activeElement));p&&h(p.propsRef.current.value)}break}}),y=R(o=>(S({type:0,...o}),()=>S({type:1,id:o.id}))),L=a.useMemo(()=>({value:v,firstOption:b,containsCheckedOption:O,disabled:E,compare:$,...P}),[v,b,O,E,$,P]),ue=a.useMemo(()=>({registerOption:y,change:h}),[y,h]),se={ref:_,id:n,role:"radiogroup","aria-labelledby":M,"aria-describedby":T,onKeyDown:W},ce=a.useMemo(()=>({value:v}),[v]),D=a.useRef(null),pe=de();return a.useEffect(()=>{D.current&&i!==void 0&&pe.addEventListener(D.current,"reset",()=>{h(i)})},[D,h]),k.createElement(x,{name:"RadioGroup.Description"},k.createElement(U,{name:"RadioGroup.Label"},k.createElement(X.Provider,{value:ue},k.createElement(V.Provider,{value:L},c!=null&&v!=null&&ee({[c]:v}).map(([o,f],d)=>k.createElement(he,{features:Re.Hidden,ref:d===0?C=>{var p;D.current=(p=C==null?void 0:C.closest("form"))!=null?p:null}:void 0,...fe({key:o,as:"input",type:"radio",checked:f!=null,hidden:!0,readOnly:!0,form:u,name:o,value:f})})),K({ourProps:se,theirProps:w,slot:ce,defaultTag:xe,name:"RadioGroup"})))))}var Fe=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(Fe||{});let Me="div";function Ge(e,r){var t;let n=J(),{id:l=`headlessui-radiogroup-option-${n}`,value:i,disabled:u=!1,...c}=e,s=a.useRef(null),g=B(s,r),[E,w]=ae(),[$,P]=Z(),{addFlag:S,removeFlag:m,hasFlag:M}=me(1),U=ve({value:i,disabled:u}),T=ie("RadioGroup.Option"),x=le("RadioGroup.Option");j(()=>x.registerOption({id:l,element:s,propsRef:U}),[l,x,s,e]);let A=R(y=>{var L;if(z(y.currentTarget))return y.preventDefault();x.change(i)&&(S(2),(L=s.current)==null||L.focus())}),_=R(y=>{if(z(y.currentTarget))return y.preventDefault();S(2)}),v=R(()=>m(2)),G=((t=T.firstOption)==null?void 0:t.id)===l,b=T.disabled||u,O=T.compare(T.value,i),h={ref:g,id:l,role:"radio","aria-checked":O?"true":"false","aria-labelledby":E,"aria-describedby":$,"aria-disabled":b?!0:void 0,tabIndex:(()=>b?-1:O||!T.containsCheckedOption&&G?0:-1)(),onClick:b?void 0:A,onFocus:b?void 0:_,onBlur:b?void 0:v},W=a.useMemo(()=>({checked:O,disabled:b,active:M(2)}),[O,b,M]);return k.createElement(P,{name:"RadioGroup.Description"},k.createElement(w,{name:"RadioGroup.Label"},K({ourProps:h,theirProps:c,slot:W,defaultTag:Me,name:"RadioGroup.Option"})))}let Le=H(Ae),De=H(Ge),We=Object.assign(Le,{Option:De,Label:Ne,Description:be});export{We as y};
